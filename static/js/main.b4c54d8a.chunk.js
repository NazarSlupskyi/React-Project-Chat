(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,a){},17:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a(1),n=a(8),r=a.n(n),i=(a(15),a(6)),o=a.n(i),m=a(9),l=a(4),d=a(7),u=function(e){var t=e.contacts,a=e.hendlerSerch,c=e.hendlerChooseContact,n=e.searchStr,r=""===n?t.sort((function(e,t){return t.history[t.history.length-1].sort-e.history[e.history.length-1].sort})):t.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}));return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{className:"leftSidebar",children:[Object(s.jsx)("img",{className:"userImg",src:"images/profileIcon/myIcon.png",alt:"user"}),Object(s.jsx)("input",{className:"searchInput",type:"text",placeholder:"Search or start new chat",onChange:a,value:n}),Object(s.jsx)("img",{className:"searchIcon",src:"images/search.png",alt:"Search Icon"}),Object(s.jsxs)("div",{className:"chats",children:[Object(s.jsx)("div",{className:"row",children:"Chats"}),Object(s.jsx)("ul",{children:r.map((function(e){var t=e.history,a=t[t.length-1];return Object(s.jsxs)("li",{className:"contact",onClick:c,children:[Object(s.jsx)("img",{className:"contactPic",src:e.icon,alt:"Contact Pic"}),Object(s.jsx)("div",{className:"date",children:a.date}),Object(s.jsx)("p",{className:"contactName",children:e.name}),Object(s.jsx)("div",{className:"contactMassage",children:a.massage})]},e.id)}))})]})]})})},g=function(e){var t=e.choosedContact,a=void 0===t?{}:t,c="Select contact to start chating !",n="/images/counting.png";return Object(s.jsxs)("div",{className:"headerConteiner",children:[Object(s.jsx)("img",{className:"historyIcon",src:a.icon||n,alt:"icon"}),Object(s.jsx)("div",{className:"historyContactName",children:a.name||c})]})},h=function(e){var t=e.choosedContact,a=void 0===t?{}:t;return Object(s.jsx)("div",{className:"sectionHistory",children:(a.history||[]).map((function(e){return!1===e.massageFromMe?Object(s.jsxs)("div",{className:"massageConteiner",children:[Object(s.jsxs)("div",{className:"userMassage",children:[Object(s.jsx)("img",{className:"userMassagePic",src:a.icon,alt:"profile"}),Object(s.jsx)("div",{className:"textOfMassage",children:e.massage})]}),Object(s.jsx)("div",{className:"massageDate",children:e.time})]}):Object(s.jsx)("div",{className:"myMassageConteiner",children:Object(s.jsxs)("div",{className:"myMassageBlock",children:[Object(s.jsx)("div",{className:"myTextMassage",children:e.massage}),Object(s.jsx)("div",{className:"myMassageDate",children:e.time})]})})}))})},j=function(e){var t=e.sendMassage,a=e.getDateAndTime,n=e.getMassage,r=e.contacts,i=e.hendlerSendMassage;return Object(c.useEffect)((function(){document.addEventListener("keydown",(function(e){e.target;var s=e.code,c=document.querySelector(".inputSendMassage");if(""!==c.value&&"Enter"===s){var i=r.find((function(e){return!0===e.active}));t({massage:c.value,time:a()[0],date:a()[1],sort:a()[2],massageFromMe:!0}),c.value="",setTimeout((function(){return n(i)}),1e4)}}))}),[]),Object(s.jsxs)("div",{className:"sectionInput",children:[Object(s.jsx)("input",{className:"inputSendMassage",type:"text",placeholder:"Type your massage"}),Object(s.jsx)("button",{onClick:i,className:"sendButton",children:Object(s.jsx)("img",{className:"sendIcon",src:"/images/send.png",alt:"Send Icon"})})]})},v=[{name:"Alic Freeman",id:1,active:!1,icon:"/images/profileIcon/girl.png",history:[{massage:"Hi!",date:"Oct 29",time:"10/29/2020 23:50",sort:"1",massageFromMe:!1},{massage:"Hi!",date:"Oct 29",time:"10/29/2020 23:50",sort:"2",massageFromMe:!0}]},{name:"John",id:0,active:!1,icon:"/images/profileIcon/boy.png",history:[{massage:"Where are you ?",date:"Oct 29",time:"10/29/2020 23:50",sort:"3",massageFromMe:!1}]},{name:"Barrera",id:2,active:!1,icon:"/images/profileIcon/boy 1.png",history:[{massage:"We lost money!!",date:"Oct 29",time:"10/29/2020 23:50",sort:"4",massageFromMe:!1}]},{name:"Chuck",id:3,active:!1,icon:"/images/profileIcon/rocker.png",history:[{massage:"we lost money!!",date:"Oct 29",time:"10/29/2020 23:50",sort:"5",massageFromMe:!1}]}],f="CONTACTS",O=function(){var e=Object(c.useState)(v),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)(""),i=Object(d.a)(r,2),O=i[0],b=i[1];Object(c.useEffect)((function(){x()}),[]);var p=function(e){localStorage.setItem(f,JSON.stringify(e))},x=function(){JSON.parse(localStorage.getItem(f));n(v)},y=function(){var e=new Date,t=e.getMinutes(),a=60*e.getMinutes()+e.getSeconds(),s=e.toLocaleDateString("en-US",{month:"short"}),c=e.getMonth()+1,n="".concat(s," ").concat(e.getDate());return["".concat(c<10?"0"+c:c,"/").concat(e.getDate(),"/").concat(e.getFullYear()," \n    ").concat(e.getHours(),":").concat(t<10?"0"+t:t),n,a]},N=function(e){var t=a.find((function(e){return!0===e.active}));t&&t.history.push(e),p(a),n(Object(l.a)(a))},M=function(e,t){t&&t.history.push(e),p(a),n(Object(l.a)(a))},S=function(){var e=Object(m.a)(o.a.mark((function e(t){var a,s,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://api.chucknorris.io/jokes/random");case 2:return a=e.sent,e.next=5,a.json();case 5:s=e.sent,c={massage:s.value,date:y()[1],time:y()[0],sort:y()[2],massageFromMe:!1},M(c,t);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C=a.find((function(e){return!0===e.active}));return Object(s.jsxs)("div",{className:"mainConteiner",children:[Object(s.jsx)(u,{searchStr:O,hendlerChooseContact:function(e){var t=e.currentTarget.childNodes[2].innerHTML,s=a.find((function(e){return e.name===t})),c=a.find((function(e){return!0===e.active}));c&&(c.active=!1),b(""),s.active=!0,n(Object(l.a)(a))},contacts:a,hendlerSerch:function(e){b(e.target.value),""===e.target.value&&n(v)}}),Object(s.jsxs)("div",{className:"headerHistory",children:[Object(s.jsx)(g,{choosedContact:C}),Object(s.jsx)(h,{choosedContact:C}),Object(s.jsx)(j,{sendMassage:N,hendlerSendMassage:function(e){var t=document.querySelector(".inputSendMassage");if(""!==t.value){var s=a.find((function(e){return!0===e.active}));N({massage:t.value,time:y()[0],date:y()[1],sort:y()[2],massageFromMe:!0}),t.value="",setTimeout((function(){return S(s)}),1e4)}},getDateAndTime:y,getMassage:S,contacts:a})]})]})};r.a.render(Object(s.jsx)(O,{}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.b4c54d8a.chunk.js.map